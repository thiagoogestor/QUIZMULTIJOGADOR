<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz Multiplayer para Fam√≠lia</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .card {
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            padding: 2rem;
            transition: all 0.3s ease;
            position: relative;
        }
        .btn {
            display: inline-flex;
            justify-content: center;
            align-items: center;
            width: 100%;
            font-weight: 600;
            text-align: center;
            user-select: none;
            border: 1px solid transparent;
            padding: 0.75rem 1.5rem;
            font-size: 1rem;
            line-height: 1.5;
            border-radius: 0.5rem;
            transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
        }
        .btn:disabled {
            opacity: 0.7;
            cursor: not-allowed;
        }
        .btn-primary {
            color: #fff;
            background-color: #4f46e5;
            border-color: #4f46e5;
        }
        .btn-primary:hover:not(:disabled) {
            background-color: #4338ca;
            border-color: #3730a3;
        }
        .btn-secondary {
            color: #4f46e5;
            background-color: #e0e7ff;
            border-color: transparent;
        }
        .btn-secondary:hover:not(:disabled) {
            background-color: #c7d2fe;
        }
        .btn-success {
            color: #fff;
            background-color: #16a34a; /* green-600 */
            border-color: #16a34a;
        }
        .btn-success:hover:not(:disabled) {
            background-color: #15803d; /* green-700 */
            border-color: #166534; /* green-800 */
        }
        .btn-danger {
            color: #fff;
            background-color: #dc2626; /* red-600 */
            border-color: #dc2626;
        }
        .btn-danger:hover:not(:disabled) {
            background-color: #b91c1c; /* red-700 */
            border-color: #991b1b; /* red-800 */
        }
        .quiz-option {
            font-size: 1rem;
            padding: 0.75rem 1rem;
            justify-content: flex-start;
        }
        .quiz-option.selected {
            background-color: #4f46e5;
            color: white;
            border-color: #4338ca;
            box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.4);
        }
        .input-field {
            display: block;
            width: 100%;
            padding: 0.75rem 1rem;
            font-size: 1rem;
            line-height: 1.5;
            color: #111827;
            background-color: #f9fafb;
            border: 1px solid #d1d5db;
            border-radius: 0.5rem;
            transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
        }
        .input-field:focus {
            outline: none;
            border-color: #4f46e5;
            box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.2);
        }
        #game-code-display {
            background-color: #f3f4f6;
            border: 2px dashed #d1d5db;
            padding: 1rem;
            border-radius: 8px;
            font-size: 1.5rem;
            font-weight: 700;
            color: #374151;
            cursor: pointer;
            text-align: center;
        }
        .question-image {
            max-height: 10rem;
            width: auto;
            margin-left: auto;
            margin-right: auto;
            margin-bottom: 1rem;
            border-radius: 0.375rem;
        }
        .go-to-menu-btn {
            position: absolute;
            top: 1rem;
            right: 1rem;
            padding: 0.5rem;
            border-radius: 9999px;
            background-color: #f3f4f6;
            border: 1px solid #e5e7eb;
            cursor: pointer;
        }
        .go-to-menu-btn:hover {
            background-color: #e5e7eb;
        }
    </style>
</head>
<body class="bg-gray-100 min-h-screen flex items-center justify-center p-4">

    <div id="app" class="max-w-3xl w-full mx-auto">
        <!-- Tela de In√≠cio / Lobby -->
        <div id="lobby-screen" class="card text-center">
            <h1 class="text-4xl font-bold text-gray-800 mb-4">Inter Quest !</h1>
            <p class="text-gray-600 mb-8">Crie uma sala ou junte-se a uma existente para come√ßar a divers√£o.</p>
            <div class="space-y-4">
                <input type="text" id="player-name" class="input-field text-center" placeholder="Digite seu nome">
                <button id="create-game-btn" class="btn btn-primary">Criar Novo Jogo</button>
                <div class="flex items-center my-4">
                    <hr class="flex-grow border-t border-gray-300">
                    <span class="px-4 text-gray-500 font-semibold">OU</span>
                    <hr class="flex-grow border-t border-gray-300">
                </div>
                <input type="text" id="game-code-input" class="input-field text-center" placeholder="Digite o c√≥digo da sala">
                <button id="join-game-btn" class="btn btn-secondary">Entrar no Jogo</button>
            </div>
            <div id="error-message" class="text-red-500 mt-4 font-semibold"></div>
            <div class="mt-6 text-xs text-gray-400">
                <p>Seu ID de Jogador: <span id="user-id-display"></span></p>
            </div>
        </div>

        <!-- Tela de Espera -->
        <div id="waiting-room-screen" class="hidden card">
            <button class="go-to-menu-btn" title="Voltar ao Menu Principal">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/><polyline points="16 17 21 12 16 7"/><line x1="21" y1="12" x2="9" y2="12"/></svg>
            </button>
            <h2 class="text-2xl font-bold text-gray-800 mb-2">Sala de Espera</h2>
            <p class="text-gray-600 mb-4">Compartilhe o c√≥digo com outros jogadores!</p>
            <div id="game-code-display" title="Clique para copiar"><span id="game-code-text"></span></div>
            <p class="text-sm text-gray-500 mt-2 text-center">Clique no c√≥digo para copiar</p>
            <h3 class="text-xl font-semibold text-gray-700 mt-8 mb-4">Jogadores na Sala:</h3>
            <ul id="player-list" class="space-y-2"></ul>
            <div id="host-controls" class="hidden mt-8">
                <button id="start-marathon-btn" class="btn btn-success">üèÜ Come√ßar Meia Maratona</button>
                <p class="text-center text-sm text-gray-500 mt-2 mb-4">Um quiz com todas as perguntas. O primeiro a acertar 21 vence!</p>
                <div class="flex items-center my-4"><hr class="flex-grow border-t border-gray-300"><span class="px-4 text-gray-500 font-semibold">OU</span><hr class="flex-grow border-t border-gray-300"></div>
                <div id="host-quiz-selection">
                    <h3 class="text-xl font-semibold text-gray-700 mb-4">Escolha um Tema:</h3>
                    <div id="quiz-options-container" class="grid grid-cols-1 gap-2 mb-6 max-h-64 overflow-y-auto pr-2"></div>
                </div>
                <div class="grid grid-cols-2 gap-4">
                    <button id="start-game-btn" class="btn btn-primary" disabled>Come√ßar Jogo Cl√°ssico</button>
                    <button id="start-combat-btn" class="btn btn-danger" disabled>‚öîÔ∏è Come√ßar Modo Combate</button>
                </div>
                <p class="text-center text-sm text-gray-500 mt-2">No Modo Combate, apenas o jogador mais r√°pido a acertar bloqueia a pergunta!</p>
            </div>
            <p id="waiting-for-host" class="mt-8 text-center text-gray-600 font-semibold">Aguardando o anfitri√£o escolher um modo e iniciar o jogo...</p>
        </div>

        <!-- Tela do Jogo -->
        <div id="game-screen" class="hidden card">
           <div class="flex justify-between items-center mb-4">
    <div>
        <div class="text-sm font-medium text-gray-500" id="quiz-name-display"></div>
        <div class="text-lg font-bold text-indigo-600">Pergunta <span id="question-number"></span>/<span id="total-questions"></span></div>
    </div>
    <div class="flex items-center space-x-4">
        <div id="scoreboard-toggle" class="cursor-pointer font-semibold text-indigo-600 hover:underline">Ver Pontua√ß√£o</div> <button class="go-to-menu-btn" title="Voltar para a Sala">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline></svg>
        </button>
    </div>
</div>
            <div id="question-container" class="mb-6"></div>
            <div id="answers-container" class="grid grid-cols-1 md:grid-cols-2 gap-4"></div>
            <div id="feedback-container" class="mt-6 text-center text-xl font-bold"></div>
            <div id="next-question-controls" class="hidden mt-6 text-center">
                <button id="next-question-btn" class="btn btn-primary">Pr√≥xima Pergunta</button>
            </div>
            <div class="mt-8">
                <h4 class="font-semibold text-center text-gray-600 mb-2">Ranking Atual</h4>
                <ul id="in-game-scoreboard" class="space-y-1"></ul>
            </div>
        </div>

        <!-- Tela de Pontua√ß√£o (Modal) -->
        <div id="scoreboard-modal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4">
            <div class="card w-full max-w-md">
                <h2 class="text-2xl font-bold text-gray-800 mb-4">Pontua√ß√£o</h2>
                <ul id="scoreboard-list" class="space-y-2"></ul>
                <button id="close-scoreboard-btn" class="btn btn-secondary">Fechar</button>
            </div>
        </div>
        
        <!-- Tela Final -->
        <div id="end-screen" class="hidden card text-center">
            <button class="go-to-menu-btn" title="Voltar ao Menu Principal">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/><polyline points="16 17 21 12 16 7"/><line x1="21" y1="12" x2="9" y2="12"/></svg>
            </button>
            <h1 class="text-4xl font-bold text-gray-800 mb-4">Fim de Jogo!</h1>
            <h2 class="text-2xl font-semibold text-indigo-600 mb-6">O grande vencedor √©... <span id="winner-name" class="text-3xl"></span>!</h2>
            <h3 class="text-xl font-semibold text-gray-700 mt-8 mb-4">Placar Final:</h3>
            <ul id="final-scoreboard-list" class="space-y-3"></ul>
            <button id="play-again-btn" class="btn btn-primary">Jogar Novamente</button>
        </div>
    </div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getAuth, signInAnonymously, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        import { getFirestore, doc, getDoc, setDoc, updateDoc, collection, onSnapshot, writeBatch, serverTimestamp, getDocs, runTransaction, deleteDoc } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";
        
        const firebaseConfig = {
            apiKey: "AIzaSyBu2s6DU9d-hc5HTqSuyYLV6Ut0oOwRIls",
            authDomain: "quizmultijogador.firebaseapp.com",
            projectId: "quizmultijogador",
            storageBucket: "quizmultijogador.appspot.com",
            messagingSenderId: "245519129065",
            appId: "1:245519129065:web:95727cf109edad07f29378",
            measurementId: "G-0BRETH5CW3"
        };

        const appId = 'default-quiz-app';
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getFirestore(app);

        let currentUser = null;
        let currentGameId = null;
        let unsubscribeGame = null;
        let unsubscribePlayers = null;
        let selectedQuizId = null;
        let currentPlayers = [];
        let currentGameData = null;
        
        const quizzes = {
            "geral": { name: "Conhecimentos Gerais", questions: [ { question: "Qual √© a capital do Brasil?", answers: ["S√£o Paulo", "Rio de Janeiro", "Bras√≠lia", "Salvador"], correct: 2 }, { question: "Quem pintou a Mona Lisa?", answers: ["Van Gogh", "Picasso", "Da Vinci", "Michelangelo"], correct: 2 }, { question: "Qual o maior animal do mundo?", answers: ["Elefante", "Tubar√£o Baleia", "Baleia Azul", "Girafa"], correct: 2 }, { question: "Quem escreveu 'Dom Quixote'?", answers: ["Machado de Assis", "Miguel de Cervantes", "Shakespeare", "Fernando Pessoa"], correct: 1 }, { question: "Em que ano o homem pisou na Lua?", answers: ["1969", "1972", "1965", "1980"], correct: 0 }, { question: "Qual √© o rio mais longo do mundo?", answers: ["Rio Nilo", "Rio Amazonas", "Rio Mississipi", "Rio Yangtz√©"], correct: 1 }, { question: "Qual a montanha mais alta do mundo?", answers: ["Monte Everest", "K2", "Kangchenjunga", "Lhotse"], correct: 0 }, { question: "Qual a f√≥rmula qu√≠mica da √°gua?", answers: ["CO2", "O2", "H2O2", "H2O"], correct: 3 }, { question: "Qual pa√≠s tem o formato de uma bota?", answers: ["Gr√©cia", "Portugal", "It√°lia", "Espanha"], correct: 2}, { question: "Quem foi o inventor da l√¢mpada?", answers: ["Nikola Tesla", "Thomas Edison", "Graham Bell", "Santos Dumont"], correct: 1}, { question: "Qual a capital de Portugal?", answers: ["Madrid", "Porto", "Roma", "Lisboa"], correct: 3}, { question: "Quem descobriu o Brasil?", answers: ["Crist√≥v√£o Colombo", "Vasco da Gama", "Pedro √Ålvares Cabral", "Am√©rico Vesp√∫cio"], correct: 2}, { question: "Qual a moeda oficial do Jap√£o?", answers: ["Yuan", "Won", "Iene", "Rupia"], correct: 2}, { question: "Qual o nome do oceano que banha o Brasil?", answers: ["Pac√≠fico", "√çndico", "Atl√¢ntico", "√Årtico"], correct: 2 }, { question: "Qual o deserto mais quente do mundo?", answers: ["Saara", "Atacama", "Ar√°bia", "Gobi"], correct: 0}, { question: "Qual o plural de 'cidad√£o'?", answers: ["Cidad√£os", "Cidad√µes", "Cidades", "Cidad√£s"], correct: 0 }, { question: "Em que continente fica o Egito?", answers: ["√Åsia", "Europa", "√Åfrica", "Oceania"], correct: 2 }, { question: "Qual o coletivo de c√£es?", answers: ["Manada", "Cardume", "Alcateia", "Rebanho"], correct: 2 }, { question: "Qual o ponto mais alto do Brasil?", answers: ["Pico da Neblina", "Pico 31 de Mar√ßo", "Monte Roraima", "Pico da Bandeira"], correct: 0 }, { question: "Quantos lados tem um hept√°gono?", answers: ["5", "6", "7", "8"], correct: 2 } ] },
            "geral2": { name: "Conhecimentos Gerais 2", questions: [ { question: "Qual o livro mais vendido no mundo, a seguir √† B√≠blia?", answers: ["Dom Quixote", "O Senhor dos An√©is", "O Pequeno Pr√≠ncipe", "Harry Potter"], correct: 0 }, { question: "Qual a nacionalidade de Pablo Picasso?", answers: ["Italiana", "Francesa", "Espanhola", "Portuguesa"], correct: 2 }, { question: "Qual o metal mais abundante na crosta terrestre?", answers: ["Ferro", "Cobre", "Ouro", "Alum√≠nio"], correct: 3 }, { question: "Em que pa√≠s nasceu a pizza?", answers: ["Gr√©cia", "It√°lia", "Estados Unidos", "Fran√ßa"], correct: 1 }, { question: "Qual destes planetas n√£o tem an√©is?", answers: ["Saturno", "J√∫piter", "V√©nus", "Urano"], correct: 2 }, { question: "Quantas patas tem uma aranha?", answers: ["6", "8", "10", "12"], correct: 1 }, { question: "Qual a cidade conhecida como a 'Big Apple'?", answers: ["Los Angeles", "Chicago", "Miami", "Nova Iorque"], correct: 3 }, { question: "Quem foi a primeira mulher a ganhar um Pr√©mio Nobel?", answers: ["Marie Curie", "Rosalind Franklin", "Ada Lovelace", "Dorothy Hodgkin"], correct: 0 }, { question: "Qual o nome do maior osso do corpo humano?", answers: ["T√≠bia", "F√™mur", "√ömero", "Pelve"], correct: 1 }, { question: "Quantos dentes tem um ser humano adulto?", answers: ["28", "30", "32", "26"], correct: 2 }, { question: "Qual o nome do processo de convers√£o de a√ß√∫car em √°lcool?", answers: ["Fotoss√≠ntese", "Respira√ß√£o", "Digest√£o", "Fermenta√ß√£o"], correct: 3 }, { question: "Em que cidade se encontram as ru√≠nas de Machu Picchu?", answers: ["M√©xico", "Chile", "Bol√≠via", "Peru"], correct: 3 }, { question: "Qual a capital da Austr√°lia?", answers: ["Sydney", "Melbourne", "Camberra", "Brisbane"], correct: 2 }, { question: "Qual o animal que consegue sobreviver mais tempo sem √°gua?", answers: ["Camelo", "Rato-canguru", "Elefante", "Girafa"], correct: 1 }, { question: "Qual o nome do criador da personagem de BD 'Tintim'?", answers: ["Goscinny", "Uderzo", "Herg√©", "Franquin"], correct: 2 }, { question: "Qual o nome do deus do trov√£o na mitologia n√≥rdica?", answers: ["Odin", "Loki", "Thor", "Freyr"], correct: 2 }, { question: "Qual o oceano mais frio do mundo?", answers: ["Pac√≠fico", "Atl√¢ntico", "√çndico", "√Årtico"], correct: 3 }, { question: "Qual a cor que resulta da mistura de azul e amarelo?", answers: ["Roxo", "Laranja", "Verde", "Cinzento"], correct: 2 }, { question: "Qual o nome da primeira pessoa a viajar para o espa√ßo?", answers: ["Neil Armstrong", "Buzz Aldrin", "Yuri Gagarin", "John Glenn"], correct: 2 }, { question: "Qual o animal que tem o maior c√©rebro em propor√ß√£o ao seu corpo?", answers: ["Humano", "Golfinho", "Elefante", "Formiga"], correct: 3 } ] },
            "ciencia": { name: "Ci√™ncia e Tecnologia", questions: [ { question: "Qual planeta √© conhecido como 'Planeta Vermelho'?", answers: ["V√™nus", "Marte", "J√∫piter", "Saturno"], correct: 1 }, { question: "Qual o g√°s mais abundante na atmosfera terrestre?", answers: ["Oxig√©nio", "Di√≥xido de Carbono", "Hidrog√©nio", "Nitrog√©nio"], correct: 3 }, { question: "Quem desenvolveu a teoria da relatividade?", answers: ["Isaac Newton", "Galileu Galilei", "Albert Einstein", "Nikola Tesla"], correct: 2 }, { question: "Qual o primeiro animal a ser clonado?", answers: ["Cachorro", "Gato", "Ovelha", "Vaca"], correct: 2 }, { question: "O que mede um sism√≥grafo?", answers: ["Ventos", "Mar√©s", "Temperatura", "Terremotos"], correct: 3 }, { question: "Qual o nome do processo que as plantas usam para se alimentar?", answers: ["Respira√ß√£o", "Transpira√ß√£o", "Fotoss√≠ntese", "Digest√£o"], correct: 2 }, { question: "Qual a fun√ß√£o dos gl√≥bulos brancos?", answers: ["Transportar oxig√©nio", "Defender o corpo", "Coagular o sangue", "Produzir hormonas"], correct: 1 }, { question: "O que √© um 'byte'?", answers: ["Unidade de som", "Unidade de cor", "Unidade de informa√ß√£o digital", "Unidade de velocidade"], correct: 2 }, { question: "Qual desses n√£o √© um sistema operativo?", answers: ["Windows", "Linux", "Microsoft Office", "Android"], correct: 2 }, { question: "Quem inventou o telefone?", answers: ["Thomas Edison", "Nikola Tesla", "Santos Dumont", "Alexander Graham Bell"], correct: 3 }, { question: "Qual o osso mais longo do corpo humano?", answers: ["T√≠bia", "F√™mur", "√ömero", "R√°dio"], correct: 1 }, { question: "O que √© a 'penicilina'?", answers: ["Um v√≠rus", "Uma bact√©ria", "Um analg√©sico", "Um antibi√≥tico"], correct: 3 }, { question: "Qual o nome do primeiro sat√©lite artificial lan√ßado ao espa√ßo?", answers: ["Apollo 11", "Explorer 1", "Sputnik 1", "Vostok 1"], correct: 2 }, { question: "De que √© feito o vidro?", answers: ["Pl√°stico derretido", "Argila aquecida", "Areia de s√≠lica", "Metal l√≠quido"], correct: 2 }, { question: "O que significa a sigla 'DNA'?", answers: ["√Åcido desoxirribonucleico", "√Åcido ribonucleico", "Densidade nuclear at√≥mica", "Digital new age"], correct: 0}, { question: "Qual a velocidade do som no ar?", answers: ["Aprox. 343 m/s", "Aprox. 1235 m/s", "Aprox. 3000 m/s", "√â instant√¢nea"], correct: 0}, { question: "Qual elemento qu√≠mico tem o s√≠mbolo 'Fe'?", answers: ["Fl√∫or", "H√©lio", "Ferro", "F√≥sforo"], correct: 2}, { question: "Quem √© considerado o 'pai da computa√ß√£o'?", answers: ["Bill Gates", "Alan Turing", "Steve Jobs", "Tim Berners-Lee"], correct: 1}, { question: "O que estuda a entomologia?", answers: ["Rochas", "P√°ssaros", "Insetos", "Peixes"], correct: 2}, { question: "Qual o nome da nossa gal√°xia?", answers: ["Andr√≥meda", "Via L√°ctea", "Centaurus A", "Gal√°xia do Tri√¢ngulo"], correct: 1} ] },
            "artes": { name: "Artes e Entretenimento", questions: [ { question: "Qual banda de rock √© conhecida como 'The Fab Four'?", answers: ["The Rolling Stones", "The Beatles", "Queen", "Led Zeppelin"], correct: 1 }, { question: "Quem escreveu a saga 'Harry Potter'?", answers: ["J. R. R. Tolkien", "J. K. Rowling", "George R. R. Martin", "C. S. Lewis"], correct: 1 }, { question: "Qual o nome do vocalista da banda Queen?", answers: ["Freddie Mercury", "Elton John", "David Bowie", "Mick Jagger"], correct: 0 }, { question: "Qual destes pintores √© famoso por cortar a pr√≥pria orelha?", answers: ["Pablo Picasso", "Claude Monet", "Salvador Dal√≠", "Vincent van Gogh"], correct: 3 }, { question: "Qual filme ganhou o primeiro Oscar de Melhor Anima√ß√£o?", answers: ["A Bela e a Fera", "O Rei Le√£o", "Toy Story", "Shrek"], correct: 3 }, { question: "Quem √© o autor da famosa pe√ßa 'Romeu e Julieta'?", answers: ["Machado de Assis", "Charles Dickens", "William Shakespeare", "Dante Alighieri"], correct: 2 }, { question: "Qual s√©rie de TV se passa em Westeros?", answers: ["The Witcher", "Game of Thrones", "Vikings", "The Last Kingdom"], correct: 1 }, { question: "Qual cantor √© conhecido como o 'Rei do Pop'?", answers: ["Elvis Presley", "James Brown", "Michael Jackson", "Prince"], correct: 2 }, { question: "De qual pa√≠s o tango √© uma dan√ßa tradicional?", answers: ["Espanha", "Brasil", "M√©xico", "Argentina"], correct: 3 }, { question: "Qual o nome do bruxo que √© o principal vil√£o em Harry Potter?", answers: ["Dumbledore", "Snape", "Voldemort", "Sirius Black"], correct: 2 }, { question: "Quem dirigiu 'Pulp Fiction'?", answers: ["Steven Spielberg", "Martin Scorsese", "Quentin Tarantino", "James Cameron"], correct: 2}, { question: "Qual destes n√£o √© um membro dos Vingadores originais do cinema?", answers: ["Capit√£o Am√©rica", "Homem-Formiga", "Vi√∫va Negra", "Hulk"], correct: 1}, { question: "Quem canta a m√∫sica 'Like a Virgin'?", answers: ["Whitney Houston", "Cyndi Lauper", "Mariah Carey", "Madonna"], correct: 3}, { question: "Qual o nome do boneco de madeira que queria ser um menino de verdade?", answers: ["Gepeto", "Grilo Falante", "Pin√≥quio", "Figaro"], correct: 2}, { question: "Em que cidade se passa a s√©rie 'La Casa de Papel'?", answers: ["Barcelona", "Madrid", "Lisboa", "Rio de Janeiro"], correct: 1}, { question: "Qual o nome do le√£o protagonista de 'O Rei Le√£o'?", answers: ["Mufasa", "Scar", "Simba", "Tim√£o"], correct: 2}, { question: "Que artista √© conhecido pela obra 'O Grito'?", answers: ["Edvard Munch", "Salvador Dal√≠", "Frida Kahlo", "Claude Monet"], correct: 0}, { question: "Qual o nome do carro de 'Regresso ao Futuro'?", answers: ["Ford Mustang", "Ferrari 250 GTO", "Pontiac Trans Am", "DeLorean"], correct: 3}, { question: "Qual o nome da personagem principal da saga 'Jogos da Fome'?", answers: ["Primrose Everdeen", "Katniss Everdeen", "Gale Hawthorne", "Peeta Mellark"], correct: 1}, { question: "Quem comp√¥s 'As Quatro Esta√ß√µes'?", answers: ["Bach", "Mozart", "Beethoven", "Vivaldi"], correct: 3} ] },
            "filmes": { name: "Filmes e S√©ries", questions: [ { question: "Qual filme apresenta a frase 'Que a For√ßa esteja com voc√™'?", answers: ["Star Trek", "Star Wars", "Blade Runner", "Duna"], correct: 1 }, { question: "Na s√©rie 'Breaking Bad', qual √© o pseud√≥nimo de Walter White?", answers: ["Cap'n Cook", "Jesse", "Gus", "Heisenberg"], correct: 3 }, { question: "Qual o nome da intelig√™ncia artificial no filme '2001: Uma Odisseia no Espa√ßo'?", answers: ["J.A.R.V.I.S.", "Skynet", "HAL 9000", "GLaDOS"], correct: 2 }, { question: "Quem √© o realizador da trilogia 'O Cavaleiro das Trevas'?", answers: ["Tim Burton", "Zack Snyder", "J.J. Abrams", "Christopher Nolan"], correct: 3 }, { question: "Qual o nome do navio em 'Piratas das Cara√≠bas' comandado por Jack Sparrow?", answers: ["O Vingan√ßa da Rainha Ana", "O Holand√™s Voador", "O P√©rola Negra", "O Interceptor"], correct: 2 }, { question: "Em 'Friends', qual o nome do caf√© onde o grupo se encontra?", answers: ["The Coffee Shop", "Central Perk", "Monk's Caf√©", "The Grind"], correct: 1 }, { question: "Que ator interpreta o Homem de Ferro no Universo Cinematogr√°fico Marvel?", answers: ["Chris Evans", "Chris Hemsworth", "Mark Ruffalo", "Robert Downey Jr."], correct: 3 }, { question: "Qual o nome do protagonista da s√©rie 'The Office' (vers√£o EUA)?", answers: ["Dwight Schrute", "Jim Halpert", "Michael Scott", "Andy Bernard"], correct: 2 }, { question: "Qual o primeiro filme a cores a ganhar o Oscar de Melhor Filme?", answers: ["O Feiticeiro de Oz", "E Tudo o Vento Levou", "Serenata √† Chuva", "Branca de Neve"], correct: 1 }, { question: "Qual o nome do mundo fant√°stico da s√©rie 'A Guerra dos Tronos'?", answers: ["Terra M√©dia", "N√°rnia", "Westeros", "Alaga√´sia"], correct: 2 }, { question: "Qual o nome do tubar√£o no filme de Steven Spielberg de 1975?", answers: ["Jaws", "Bruce", "Deep Blue", "Moby Dick"], correct: 1}, { question: "Na s√©rie 'Stranger Things', qual o nome do mundo invertido?", answers: ["The Underneath", "The Abyss", "The Upside Down", "The Nether"], correct: 2}, { question: "Qual destes filmes n√£o foi realizado por Martin Scorsese?", answers: ["Taxi Driver", "O Poderoso Chef√£o", "Touro Enraivecido", "Os Bons Companheiros"], correct: 1}, { question: "Qual a cor do sabre de luz de Luke Skywalker em 'O Regresso de Jedi'?", answers: ["Azul", "Vermelho", "Roxo", "Verde"], correct: 3}, { question: "Qual o nome da personagem de Keanu Reeves em 'Matrix'?", answers: ["Morpheus", "Cypher", "Neo", "Agente Smith"], correct: 2}, { question: "Qual o nome da casa de Hogwarts a que Harry Potter pertence?", answers: ["Slytherin", "Hufflepuff", "Gryffindor", "Ravenclaw"], correct: 2}, { question: "Qual o nome do palha√ßo assassino no filme 'It'?", answers: ["Coringa", "Pennywise", "Krusty", "Bozo"], correct: 1}, { question: "Quem interpreta a personagem 'Eleven' na s√©rie 'Stranger Things'?", answers: ["Sadie Sink", "Millie Bobby Brown", "Maya Hawke", "Natalia Dyer"], correct: 1}, { question: "Qual o nome do imp√©rio do mal em 'Star Wars'?", answers: ["A Primeira Ordem", "A Alian√ßa Rebelde", "O Imp√©rio Gal√°ctico", "A Rep√∫blica"], correct: 2}, { question: "Em que filme a personagem diz 'Eu vejo gente morta'?", answers: ["O Exorcista", "O Iluminado", "Poltergeist", "O Sexto Sentido"], correct: 3} ] },
            "desporto": { name: "Desporto", questions: [ { question: "Quantos jogadores tem uma equipa de basquetebol em campo?", answers: ["5", "6", "7", "11"], correct: 0 }, { question: "Qual pa√≠s venceu o primeiro Campeonato do Mundo de Futebol?", answers: ["Brasil", "Argentina", "It√°lia", "Uruguai"], correct: 3 }, { question: "Em que desporto se usa um 'puck'?", answers: ["Basebol", "Cr√≠quete", "P√≥lo Aqu√°tico", "H√≥quei no Gelo"], correct: 3 }, { question: "Quem √© o maior medalhista ol√≠mpico de todos os tempos?", answers: ["Usain Bolt", "Carl Lewis", "Larisa Latynina", "Michael Phelps"], correct: 3 }, { question: "Qual o nome do famoso est√°dio de futebol em Londres?", answers: ["Old Trafford", "Anfield", "Wembley", "Stamford Bridge"], correct: 2 }, { question: "Qual o nome do torneio de t√©nis mais antigo do mundo?", answers: ["Roland Garros", "US Open", "Australian Open", "Wimbledon"], correct: 3 }, { question: "Quantos pontos vale um 'touchdown' no futebol americano?", answers: ["3", "6", "7", "2"], correct: 1 }, { question: "Qual o pa√≠s de origem do piloto de F√≥rmula 1, Ayrton Senna?", answers: ["Argentina", "It√°lia", "Alemanha", "Brasil"], correct: 3 }, { question: "Em que arte marcial se usa um 'judogi'?", answers: ["Karat√©", "Taekwondo", "Judo", "Kung Fu"], correct: 2 }, { question: "Qual √© a corrida de ciclismo mais famosa do mundo?", answers: ["Giro d'Italia", "Vuelta a Espa√±a", "Tour de France", "Paris-Roubaix"], correct: 2 }, { question: "Qual jogador de futebol √© conhecido como 'O Rei'?", answers: ["Maradona", "Messi", "Pel√©", "Cristiano Ronaldo"], correct: 2}, { question: "Quantas casas tem um tabuleiro de xadrez?", answers: ["32", "64", "100", "48"], correct: 1}, { question: "Qual o nome da bola usada no basebol?", answers: ["A bola n√£o tem nome", "Slugger", "Rawlings", "√â s√≥ 'bola de basebol'"], correct: 3}, { question: "Qual a dura√ß√£o de uma maratona oficial?", answers: ["42.195 metros", "42.195 km", "40 km", "21 km"], correct: 1}, { question: "Qual equipa da NBA tem mais t√≠tulos?", answers: ["Chicago Bulls", "Golden State Warriors", "Los Angeles Lakers", "Boston Celtics"], correct: 2}, { question: "Onde foram realizados os primeiros Jogos Ol√≠mpicos da era moderna?", answers: ["Paris", "Atenas", "Londres", "Roma"], correct: 1}, { question: "Qual o nome do golpe final no voleibol?", answers: ["Manchete", "Servi√ßo", "Bloqueio", "Remate"], correct: 3}, { question: "Qual o surfista com mais t√≠tulos mundiais?", answers: ["Gabriel Medina", "Kelly Slater", "Mick Fanning", "Andy Irons"], correct: 1}, { question: "Qual a pontua√ß√£o m√°xima numa partida de bowling?", answers: ["100", "150", "200", "300"], correct: 3}, { question: "Em que desporto se compete na 'corrida das 500 milhas de Indian√°polis'?", answers: ["NASCAR", "F√≥rmula 1", "Motociclismo", "IndyCar Series"], correct: 3} ] },
            "historia": { name: "Hist√≥ria do Mundo", questions: [ { question: "Em que ano come√ßou a Primeira Guerra Mundial?", answers: ["1912", "1914", "1916", "1918"], correct: 1 }, { question: "Quem foi o primeiro imperador de Roma?", answers: ["J√∫lio C√©sar", "Nero", "Augusto", "Cal√≠gula"], correct: 2 }, { question: "Qual civiliza√ß√£o antiga construiu Machu Picchu?", answers: ["Astecas", "Maias", "Incas", "Eg√≠pcios"], correct: 2 }, { question: "A Queda do Muro de Berlim ocorreu em que ano?", answers: ["1985", "1987", "1989", "1991"], correct: 2 }, { question: "Quem foi o l√≠der da Revolu√ß√£o Cubana?", answers: ["Che Guevara", "Fulgencio Batista", "Fidel Castro", "Camilo Cienfuegos"], correct: 2 }, { question: "Qual o nome do navio em que Charles Darwin viajou?", answers: ["HMS Victory", "HMS Endeavour", "HMS Beagle", "HMS Discovery"], correct: 2 }, { question: "Qual o nome da famosa rainha do Egito que se aliou a Roma?", answers: ["Nefertiti", "Hatshepsut", "Cle√≥patra", "Nefertari"], correct: 2 }, { question: "Em que pa√≠s come√ßou a Renascen√ßa?", answers: ["Fran√ßa", "Espanha", "Portugal", "It√°lia"], correct: 3 }, { question: "Quem era o presidente dos EUA durante a Guerra Civil Americana?", answers: ["Thomas Jefferson", "Andrew Jackson", "Abraham Lincoln", "Ulysses S. Grant"], correct: 2 }, { question: "Qual o nome da doen√ßa que causou a 'Peste Negra' na Europa?", answers: ["Var√≠ola", "Tuberculose", "Peste Bub√≥nica", "C√≥lera"], correct: 2 }, { question: "Qual o nome da √∫ltima rainha da Fran√ßa?", answers: ["Catarina de M√©dici", "Joana d'Arc", "Maria Antonieta", "Isabel I"], correct: 2}, { question: "Em que ano terminou a Segunda Guerra Mundial?", answers: ["1943", "1944", "1945", "1946"], correct: 2}, { question: "Qual imp√©rio foi governado por Gengis Khan?", answers: ["Imp√©rio Romano", "Imp√©rio Mongol", "Imp√©rio Otomano", "Imp√©rio Persa"], correct: 1}, { question: "Qual a cidade que foi soterrada pela erup√ß√£o do vulc√£o Ves√∫vio em 79 d.C.?", answers: ["Roma", "Floren√ßa", "Atenas", "Pompeia"], correct: 3}, { question: "Quem proferiu a famosa frase 'Eu tenho um sonho'?", answers: ["Nelson Mandela", "Malcolm X", "Martin Luther King Jr.", "Barack Obama"], correct: 2}, { question: "A 'Guerra dos Cem Anos' foi travada entre que pa√≠ses?", answers: ["Inglaterra e Espanha", "Fran√ßa e Alemanha", "Inglaterra e Fran√ßa", "Espanha e Portugal"], correct: 2}, { question: "Qual o nome da primeira mulher a voar para o espa√ßo?", answers: ["Sally Ride", "Valentina Tereshkova", "Svetlana Savitskaya", "Mae Jemison"], correct: 1}, { question: "Qual o nome do c√≥digo de leis da Babil√≥nia antiga?", answers: ["C√≥digo de Hamurabi", "As Doze T√°buas", "As Leis de Manu", "O Livro dos Mortos"], correct: 0}, { question: "Qual o nome do movimento liderado por Martinho Lutero no s√©culo XVI?", answers: ["A Contrarreforma", "O Iluminismo", "A Reforma Protestante", "O Humanismo"], correct: 2}, { question: "Quem foi a figura central do Apartheid na √Åfrica do Sul?", answers: ["Desmond Tutu", "F. W. de Klerk", "Nelson Mandela", "Thabo Mbeki"], correct: 2} ] },
            "geografia": { name: "Geografia", questions: [ { question: "Qual √© o maior oceano do mundo?", answers: ["Atl√¢ntico", "√çndico", "Pac√≠fico", "√Årtico"], correct: 2 }, { question: "Qual √© a capital da Argentina?", answers: ["Santiago", "Montevid√©u", "Bogot√°", "Buenos Aires"], correct: 3 }, { question: "O Rio Nilo desagua em qual mar?", answers: ["Mar Vermelho", "Mar Mediterr√¢neo", "Mar Negro", "Mar C√°spio"], correct: 1 }, { question: "Qual √© o pa√≠s mais populoso do mundo?", answers: ["√çndia", "Estados Unidos", "Indon√©sia", "China"], correct: 0 }, { question: "Qual o nome da cordilheira que atravessa a Am√©rica do Sul?", answers: ["Himalaias", "Andes", "Alpes", "Montanhas Rochosas"], correct: 1 }, { question: "Em que continente se situa a Austr√°lia?", answers: ["√Åsia", "Am√©rica", "√Åfrica", "Oce√¢nia"], correct: 3 }, { question: "Qual √© a capital do Canad√°?", answers: ["Toronto", "Vancouver", "Montreal", "Ottawa"], correct: 3 }, { question: "Qual √© o maior deserto do mundo (incluindo desertos polares)?", answers: ["Saara", "Deserto da Ar√°bia", "Deserto Ant√°rtico", "Gobi"], correct: 2 }, { question: "Qual √© o rio que passa por Paris?", answers: ["T√¢misa", "Dan√∫bio", "Sena", "Reno"], correct: 2 }, { question: "Qual o ponto mais baixo de terra firme do planeta?", answers: ["Vale da Morte", "Depress√£o de Afar", "Mar Morto", "Fossa das Marianas"], correct: 2 }, { question: "Qual o pa√≠s com a maior √°rea territorial do mundo?", answers: ["Canad√°", "China", "Estados Unidos", "R√∫ssia"], correct: 3 }, { question: "Qual √© o √∫nico pa√≠s que √© tamb√©m um continente?", answers: ["Gronel√¢ndia", "Austr√°lia", "Madag√°scar", "Isl√¢ndia"], correct: 1 }, { question: "Qual a capital do Jap√£o?", answers: ["Quioto", "Osaka", "Hiroshima", "T√≥quio"], correct: 3 }, { question: "Qual o nome do estreito que separa a √Åsia da Am√©rica?", answers: ["Estreito de Gibraltar", "Estreito de Bering", "Canal de Suez", "Canal do Panam√°"], correct: 1 }, { question: "Qual o pa√≠s conhecido como 'Terra do Sol Nascente'?", answers: ["China", "Coreia do Sul", "Jap√£o", "Vietname"], correct: 2 }, { question: "Qual a capital da R√∫ssia?", answers: ["S√£o Petersburgo", "Kiev", "Moscovo", "Vars√≥via"], correct: 2 }, { question: "Qual a linha imagin√°ria que divide a Terra em hemisf√©rio norte e sul?", answers: ["Tr√≥pico de C√¢ncer", "C√≠rculo Polar √Årtico", "Linha do Equador", "Meridiano de Greenwich"], correct: 2 }, { question: "Qual o maior lago de √°gua doce do mundo em volume?", answers: ["Lago Superior", "Lago Vit√≥ria", "Mar C√°spio", "Lago Baikal"], correct: 3 }, { question: "Em que pa√≠s se encontra o Monte Fuji?", answers: ["China", "Coreia do Sul", "Jap√£o", "Nepal"], correct: 2 }, { question: "Qual o pa√≠s mais pequeno do mundo?", answers: ["M√≥naco", "Nauru", "S√£o Marino", "Vaticano"], correct: 3 } ] },
            "corpo_humano": { name: "Corpo Humano", questions: [ { question: "Qual √© o maior √≥rg√£o do corpo humano?", answers: ["F√≠gado", "Pele", "C√©rebro", "Intestino"], correct: 1 }, { question: "Quantos ossos tem um ser humano adulto?", answers: ["206", "212", "198", "250"], correct: 0 }, { question: "Qual o m√∫sculo mais forte do corpo humano em propor√ß√£o ao seu tamanho?", answers: ["Masseter (mand√≠bula)", "Gl√∫teo", "Quadr√≠ceps", "Cora√ß√£o"], correct: 0 }, { question: "Onde se localizam as papilas gustativas?", answers: ["Nariz", "Pele", "Est√¥mago", "L√≠ngua"], correct: 3 }, { question: "Qual o nome dos vasos sangu√≠neos que levam o sangue do cora√ß√£o para o resto do corpo?", answers: ["Veias", "Art√©rias", "Capilares", "V√™nulas"], correct: 1 }, { question: "Qual √≥rg√£o produz a insulina?", answers: ["F√≠gado", "Est√¥mago", "P√¢ncreas", "Rim"], correct: 2 }, { question: "Qual √© o nome da subst√¢ncia que d√° cor √† nossa pele, cabelo e olhos?", answers: ["Queratina", "Colag√©nio", "Melanina", "Hemoglobina"], correct: 2 }, { question: "Quantos dentes tem um adulto, incluindo os dentes do siso?", answers: ["28", "30", "32", "34"], correct: 2 }, { question: "Qual o nome do osso do cr√¢nio que protege o c√©rebro?", answers: ["Mand√≠bula", "Maxilar", "Caixa craniana", "Clav√≠cula"], correct: 2 }, { question: "Qual a principal fun√ß√£o dos rins?", answers: ["Digestionar alimentos", "Bombear sangue", "Filtrar o sangue", "Produzir hormonas"], correct: 2 }, { question: "Qual o nome do osso popularmente conhecido como 'ma√ß√£ de Ad√£o'?", answers: ["Hi√≥ide", "Cartilagem tiroide", "Epiglote", "Traqueia"], correct: 1 }, { question: "Qual a parte do olho respons√°vel por focar a luz?", answers: ["√çris", "Retina", "Pupila", "Cristalino"], correct: 3 }, { question: "Qual o nome do processo de respira√ß√£o a n√≠vel celular?", answers: ["Fotoss√≠ntese", "Respira√ß√£o celular", "Ventila√ß√£o", "Hematose"], correct: 1 }, { question: "Quantos litros de sangue tem, em m√©dia, um adulto?", answers: ["2-3 litros", "5-6 litros", "8-10 litros", "1-2 litros"], correct: 1 }, { question: "Qual o nome do osso do antebra√ßo do lado do polegar?", answers: ["Ulna", "F√™mur", "T√≠bia", "R√°dio"], correct: 3 }, { question: "Qual a parte do c√©rebro respons√°vel pelo equil√≠brio e coordena√ß√£o?", answers: ["C√≥rtex", "Cerebelo", "Tronco cerebral", "Hipocampo"], correct: 1 }, { question: "O que s√£o os alv√©olos?", answers: ["C√©lulas nervosas", "Ossos do ouvido", "Sacos de ar nos pulm√µes", "C√©lulas musculares"], correct: 2 }, { question: "Qual o nome do √°cido presente no est√¥mago?", answers: ["√Åcido sulf√∫rico", "√Åcido ac√©tico", "√Åcido c√≠trico", "√Åcido clor√≠drico"], correct: 3 }, { question: "Qual a vitamina produzida pelo corpo quando exposto ao sol?", answers: ["Vitamina C", "Vitamina A", "Vitamina D", "Vitamina B12"], correct: 2 }, { question: "Qual o nome do maior osso do corpo humano?", answers: ["F√™mur", "T√≠bia", "√ömero", "Pelve"], correct: 0 } ] },
            "reino_animal": { name: "Reino Animal", questions: [ { question: "Qual √© o mam√≠fero mais r√°pido do mundo?", answers: ["Le√£o", "Guepardo", "Cavalo", "Ant√≠lope"], correct: 1 }, { question: "Qual o √∫nico mam√≠fero que pode voar?", answers: ["Esquilo-voador", "Galinha", "Morcego", "Pinguim"], correct: 2 }, { question: "Qual √© o maior r√©ptil do mundo?", answers: ["Jacar√©-a√ßu", "Crocodilo-de-√°gua-salgada", "Drag√£o-de-komodo", "Anaconda"], correct: 1 }, { question: "Qual animal tem a maior longevidade?", answers: ["Tartaruga-das-gal√°pagos", "Baleia-da-gronel√¢ndia", "Tubar√£o-da-gronel√¢ndia", "Elefante"], correct: 2 }, { question: "Qual p√°ssaro √© conhecido pela sua capacidade de imitar a fala humana?", answers: ["Corvo", "Papagaio", "Arara", "Gralha"], correct: 1 }, { question: "Como se chama o macho da abelha?", answers: ["Vespa", "Zang√£o", "Oper√°rio", "Soldado"], correct: 1 }, { question: "Qual destes animais √© um marsupial?", answers: ["Coelho", "Urso", "Canguru", "Rato"], correct: 2 }, { question: "Qual √© o maior peixe do mundo?", answers: ["Tubar√£o-baleia", "Tubar√£o-branco", "Baleia-azul", "Atum"], correct: 0 }, { question: "Qual animal dorme de p√©?", answers: ["C√£o", "Gato", "Cavalo", "Urso"], correct: 2 }, { question: "De que cor √© a pele de um urso polar?", answers: ["Branca", "Amarela", "Cinzenta", "Preta"], correct: 3 }, { question: "Quantos cora√ß√µes tem um polvo?", answers: ["1", "2", "3", "4"], correct: 2 }, { question: "Qual o animal terrestre mais alto do mundo?", answers: ["Elefante", "Camelo", "Girafa", "Alce"], correct: 2 }, { question: "O que √© um animal herb√≠voro?", answers: ["Come carne", "Come plantas", "Come de tudo", "N√£o come"], correct: 1 }, { question: "Qual o nome do processo de mudan√ßa de pele em cobras?", answers: ["Muda", "Hiberna√ß√£o", "Ecdise", "Metamorfose"], correct: 2 }, { question: "Qual o animal que representa o signo de Le√£o?", answers: ["Tigre", "Lobo", "Urso", "Le√£o"], correct: 3 }, { question: "Qual √© o som que as r√£s fazem?", answers: ["Crocitar", "Chiar", "Coaxar", "Grasnar"], correct: 2 }, { question: "Qual destes animais √© venenoso?", answers: ["Sapo", "R√£", "Cobra-coral", "Lagartixa"], correct: 2 }, { question: "Qual o nome do filhote de um cavalo?", answers: ["Bezerro", "Poldro", "Cordeiro", "Pinto"], correct: 1 }, { question: "Qual o animal que constr√≥i barragens em rios?", answers: ["Lontra", "Capivara", "Castor", "Rato-do-banhado"], correct: 2 }, { question: "Qual o animal que tem o pesco√ßo mais comprido?", answers: ["Avestruz", "Gar√ßa", "Flamingo", "Girafa"], correct: 3 } ] },
            "comida_bebida": { name: "Comida e Bebida", questions: [ { question: "De que pa√≠s √© origin√°ria a pizza?", answers: ["Fran√ßa", "Estados Unidos", "Gr√©cia", "It√°lia"], correct: 3 }, { question: "Qual √© o principal ingrediente do guacamole?", answers: ["Tomate", "Abacate", "Cebola", "Coentros"], correct: 1 }, { question: "Qual √© a bebida nacional do Brasil?", answers: ["Cerveja", "Cacha√ßa", "Caipirinha", "Guaran√°"], correct: 2 }, { question: "O sushi √© um prato t√≠pico de que pa√≠s?", answers: ["China", "Jap√£o", "Coreia do Sul", "Tail√¢ndia"], correct: 1 }, { question: "Qual o principal ingrediente do chocolate?", answers: ["Leite", "A√ß√∫car", "Cacau", "Manteiga"], correct: 2 }, { question: "Qual destes queijos n√£o √© italiano?", answers: ["Mussarela", "Parmes√£o", "Gorgonzola", "Roquefort"], correct: 3 }, { question: "A paella √© um prato tradicional de que pa√≠s?", answers: ["Portugal", "Espanha", "M√©xico", "It√°lia"], correct: 1 }, { question: "Qual √© a fruta mais consumida no mundo?", answers: ["Banana", "Ma√ß√£", "Tomate", "Laranja"], correct: 2 }, { question: "De que √© feito o vinho?", answers: ["Ma√ß√£s", "Uvas", "Peras", "Morangos"], correct: 1 }, { question: "Qual o nome do p√£o achatado e redondo usado em kebabs?", answers: ["Baguete", "P√£o pita", "Ciabatta", "Focaccia"], correct: 1 }, { question: "Qual a base da sopa japonesa 'ramen'?", answers: ["Arroz", "Massa", "Tofu", "Algas"], correct: 1 }, { question: "Qual o prato mais famoso de Portugal?", answers: ["Francesinha", "Cozido √† Portuguesa", "Bacalhau", "Sardinha assada"], correct: 2 }, { question: "Qual o ingrediente principal da feijoada brasileira?", answers: ["Feij√£o preto", "Feij√£o branco", "Gr√£o-de-bico", "Lentilhas"], correct: 0 }, { question: "De que pa√≠s s√£o origin√°rios os 'croissants'?", answers: ["Fran√ßa", "Su√≠√ßa", "√Åustria", "B√©lgica"], correct: 2 }, { question: "Qual a bebida mais popular do mundo, a seguir √† √°gua?", answers: ["Caf√©", "Ch√°", "Sumo de laranja", "Coca-Cola"], correct: 1 }, { question: "Qual o nome do prato mexicano que consiste numa tortilha enrolada?", answers: ["Taco", "Quesadilla", "Burrito", "Nacho"], correct: 2 }, { question: "Qual o principal ingrediente para fazer p√£o?", answers: ["Farinha", "Ovos", "Leite", "Manteiga"], correct: 0 }, { question: "Qual o tipo de massa em forma de la√ßo?", answers: ["Penne", "Spaghetti", "Farfalle", "Fusilli"], correct: 2 }, { question: "Qual o principal ingrediente do h√∫mus?", answers: ["Feij√£o", "Lentilhas", "Gr√£o-de-bico", "Ervilhas"], correct: 2 }, { question: "Qual a bebida destilada feita a partir do agave?", answers: ["Rum", "Vodka", "Gin", "Tequila"], correct: 3 } ] },
            "marcas": { name: "Marcas Famosas", questions: [ { question: "A que marca pertence este log√≥tipo?", imageUrl: 'https://upload.wikimedia.org/wikipedia/commons/a/a6/Logo_NIKE.svg', answers: ["Adidas", "Puma", "Nike", "Reebok"], correct: 2 }, { question: "A que marca pertence este log√≥tipo?", imageUrl: 'https://upload.wikimedia.org/wikipedia/commons/thumb/3/36/McDonald%27s_Golden_Arches.svg/200px-McDonald%27s_Golden_Arches.svg.png', answers: ["Burger King", "Wendy's", "McDonald's", "Subway"], correct: 2 }, { question: "A que marca pertence este log√≥tipo?", imageUrl: 'https://upload.wikimedia.org/wikipedia/commons/f/fa/Apple_logo_black.svg', answers: ["Microsoft", "Apple", "Samsung", "Google"], correct: 1 }, { question: "A que marca pertence este log√≥tipo?", imageUrl: 'https://upload.wikimedia.org/wikipedia/commons/thumb/b/b8/2021_Facebook_icon.svg/200px-2021_Facebook_icon.svg.png', answers: ["Twitter (X)", "Instagram", "LinkedIn", "Facebook"], correct: 3 }, { question: "A que marca de autom√≥veis pertence este log√≥tipo?", imageUrl: 'https://upload.wikimedia.org/wikipedia/commons/thumb/6/6d/Volkswagen_logo_2019.svg/200px-Volkswagen_logo_2019.svg.png', answers: ["Volvo", "Volkswagen", "BMW", "Audi"], correct: 1 }, { question: "A que marca pertence este log√≥tipo?", imageUrl: 'https://upload.wikimedia.org/wikipedia/commons/thumb/0/09/YouTube_full-color_icon_%282017%29.svg/200px-YouTube_full-color_icon_%282017%29.svg.png', answers: ["Netflix", "Vimeo", "YouTube", "Hulu"], correct: 2 }, { question: "A que marca de autom√≥veis pertence este log√≥tipo?", imageUrl: 'https://upload.wikimedia.org/wikipedia/en/thumb/d/d1/Ferrari-Logo.svg/200px-Ferrari-Logo.svg.png', answers: ["Porsche", "Lamborghini", "Maserati", "Ferrari"], correct: 3 }, { question: "A que marca pertence este log√≥tipo?", imageUrl: 'https://upload.wikimedia.org/wikipedia/en/thumb/d/d3/Starbucks_Corporation_Logo_2011.svg/200px-Starbucks_Corporation_Logo_2011.svg.png', answers: ["Costa Coffee", "Starbucks", "Dunkin'", "Nespresso"], correct: 1 }, { question: "A que marca pertence este log√≥tipo?", imageUrl: 'https://upload.wikimedia.org/wikipedia/commons/thumb/6/6f/Logo_of_Twitter.svg/200px-Logo_of_Twitter.svg.png', answers: ["WhatsApp", "Telegram", "Twitter (X)", "Signal"], correct: 2 }, { question: "A que empresa pertence este log√≥tipo?", imageUrl: 'https://upload.wikimedia.org/wikipedia/commons/thumb/a/a9/Amazon_logo.svg/200px-Amazon_logo.svg.png', answers: ["Alibaba", "Amazon", "eBay", "Mercado Livre"], correct: 1 } ] },
            "monumentos": { name: "Monumentos do Mundo", questions: [ { question: "Onde fica este monumento?", imageUrl: 'https://upload.wikimedia.org/wikipedia/commons/thumb/8/85/Tour_Eiffel_Wikimedia_Commons_%28cropped%29.jpg/200px-Tour_Eiffel_Wikimedia_Commons_%28cropped%29.jpg', answers: ["Londres", "Roma", "Paris", "Berlim"], correct: 2 }, { question: "Qual o nome desta est√°tua?", imageUrl: 'https://upload.wikimedia.org/wikipedia/commons/thumb/a/a1/Statue_of_Liberty_7.jpg/200px-Statue_of_Liberty_7.jpg', answers: ["O Pensador", "David", "V√©nus de Milo", "Est√°tua da Liberdade"], correct: 3 }, { question: "Onde fica este antigo anfiteatro?", imageUrl: 'https://upload.wikimedia.org/wikipedia/commons/thumb/d/de/Colosseo_2020.jpg/200px-Colosseo_2020.jpg', answers: ["Atenas", "Roma", "Istambul", "Cairo"], correct: 1 }, { question: "Qual o nome desta estrutura?", imageUrl: 'https://upload.wikimedia.org/wikipedia/commons/thumb/2/23/The_Great_Wall_of_China_at_Jinshanling-edit.jpg/200px-The_Great_Wall_of_China_at_Jinshanling-edit.jpg', answers: ["Aqueduto de Seg√≥via", "Muralha da China", "Muralhas de Adriano", "Muralhas de √Åvila"], correct: 1 }, { question: "Em que pa√≠s fica este mausol√©u?", imageUrl: 'https://upload.wikimedia.org/wikipedia/commons/thumb/b/bd/Taj_Mahal%2C_Agra%2C_India_edit3.jpg/200px-Taj_Mahal%2C_Agra%2C_India_edit3.jpg', answers: ["√çndia", "Paquist√£o", "Ir√£o", "Turquia"], correct: 0 }, { question: "Qual o nome destas pir√¢mides?", imageUrl: 'https://upload.wikimedia.org/wikipedia/commons/thumb/a/af/All_Gizah_Pyramids.jpg/200px-All_Gizah_Pyramids.jpg', answers: ["Pir√¢mides de Teotihuacan", "Pir√¢mides de Giz√©", "Pir√¢mides da N√∫bia", "Zigurate de Ur"], correct: 1 }, { question: "Em que cidade fica esta √≥pera?", imageUrl: 'https://upload.wikimedia.org/wikipedia/commons/thumb/4/40/Sydney_Opera_House_Sails.jpg/200px-Sydney_Opera_House_Sails.jpg', answers: ["Melbourne", "Auckland", "Sydney", "Wellington"], correct: 2 }, { question: "Qual o nome desta est√°tua no Rio de Janeiro?", imageUrl: 'https://upload.wikimedia.org/wikipedia/commons/thumb/4/4f/Christ_the_Redeemer_-_new_view.jpg/200px-Christ_the_Redeemer_-_new_view.jpg', answers: ["Cristo Rei", "Cristo Redentor", "Cristo da Conc√≥rdia", "Cristo de Havana"], correct: 1 }, { question: "Em que pa√≠s fica esta cidade antiga?", imageUrl: 'https://upload.wikimedia.org/wikipedia/commons/thumb/2/2f/Treasury_of_Petra.jpg/200px-Treasury_of_Petra.jpg', answers: ["Egito", "Israel", "Jord√¢nia", "Ar√°bia Saudita"], correct: 2 }, { question: "Qual o nome desta antiga cidadela inca?", imageUrl: 'https://upload.wikimedia.org/wikipedia/commons/thumb/e/eb/Machu_Picchu%2C_Peru.jpg/200px-Machu_Picchu%2C_Peru.jpg', answers: ["Chich√©n Itz√°", "Tikal", "Palenque", "Machu Picchu"], correct: 3 } ] },
            "mpb": { name: "M√∫sicas MPB", questions: [ { question: "Qual destes artistas √© conhecido como 'O S√≠ndico'?", answers: ["Jorge Ben Jor", "Tim Maia", "Wilson Simonal", "Raul Seixas"], correct: 1 }, { question: "Quem comp√¥s a m√∫sica '√Åguas de Mar√ßo'?", answers: ["Tom Jobim", "Vinicius de Moraes", "Chico Buarque", "Caetano Veloso"], correct: 0 }, { question: "Qual o nome do famoso √°lbum de Caetano Veloso e Gilberto Gil gravado em ex√≠lio em Londres?", answers: ["Expresso 2222", "Tropic√°lia", "Transa", "London, London"], correct: 3 }, { question: "A can√ß√£o 'O B√™bado e a Equilibrista' tornou-se um hino da anistia no Brasil. Quem a interpretou?", answers: ["Elis Regina", "Gal Costa", "Maria Beth√¢nia", "Simone"], correct: 0 }, { question: "Qual banda de rock rural foi liderada por Z√© Ramalho e Alceu Valen√ßa?", answers: ["Novos Baianos", "Secos & Molhados", "A Cor do Som", "O Grande Encontro"], correct: 3 }, { question: "De qual √°lbum dos Tribalistas √© a m√∫sica 'Velha Inf√¢ncia'?", answers: ["Tribalistas (2002)", "Tribalistas (2017)", "J√° Sei Namorar", "√â Voc√™"], correct: 0 }, { question: "Quem canta a m√∫sica 'Sozinho', um grande sucesso no final dos anos 90?", answers: ["Djavan", "Caetano Veloso", "Peninha", "F√°bio Jr."], correct: 1 }, { question: "Qual o nome do movimento musical que revelou artistas como Caetano Veloso, Gilberto Gil e Gal Costa?", answers: ["Bossa Nova", "Jovem Guarda", "Tropic√°lia", "Clube da Esquina"], correct: 2 }, { question: "A m√∫sica 'Constru√ß√£o' √© uma das obras-primas de qual compositor?", answers: ["Milton Nascimento", "Chico Buarque", "Tom Z√©", "Belchior"], correct: 1 }, { question: "'Como Nossos Pais' √© uma can√ß√£o de Belchior que ficou famosa na voz de quem?", answers: ["Zizi Possi", "Fagner", "Elis Regina", "Amelinha"], correct: 2 }, { question: "Qual artista mineiro √© uma das figuras centrais do 'Clube da Esquina'?", answers: ["L√¥ Borges", "Milton Nascimento", "Beto Guedes", "Todos os anteriores"], correct: 3 }, { question: "Quem √© o autor da can√ß√£o 'Pa√≠s Tropical'?", answers: ["Jorge Ben Jor", "Gilberto Gil", "Toquinho", "Chico Science"], correct: 0 }, { question: "Qual o nome do grupo formado por Marisa Monte, Arnaldo Antunes e Carlinhos Brown?", answers: ["Os Tribalistas", "Tit√£s", "Paralamas do Sucesso", "Na√ß√£o Zumbi"], correct: 0 }, { question: "A m√∫sica 'Sampa', de Caetano Veloso, √© uma homenagem a qual cidade?", answers: ["Salvador", "Rio de Janeiro", "S√£o Paulo", "Belo Horizonte"], correct: 2 }, { question: "Qual destes artistas n√£o fez parte do grupo Novos Baianos?", answers: ["Moraes Moreira", "Baby do Brasil", "Pepeu Gomes", "Raul Seixas"], correct: 3 }, { question: "Quem canta a m√∫sica 'Oceano'?", answers: ["Caetano Veloso", "Gilberto Gil", "Milton Nascimento", "Djavan"], correct: 3 }, { question: "Qual o nome do famoso teatro no Rio de Janeiro que foi palco de muitos shows de MPB?", answers: ["Teatro Municipal", "Canec√£o", "Teatro Oficina", "Teatro Amazonas"], correct: 1 }, { question: "Qual o nome da can√ß√£o de C√°ssia Eller que fala sobre um 'Errado que deu certo'?", answers: ["O Segundo Sol", "Malandragem", "Por Enquanto", "All Star"], correct: 1 }, { question: "Qual o nome do primeiro √°lbum de Maria Beth√¢nia, lan√ßado em 1965?", answers: ["Carcar√°", "Maria Beth√¢nia", "Edu e Beth√¢nia", "A Tua Presen√ßa"], correct: 1 }, { question: "Qual o nome da m√∫sica de Legi√£o Urbana que cita 'a gente se encontra todo dia na mesma pra√ßa'?", answers: ["Eduardo e M√¥nica", "Faroeste Caboclo", "Tempo Perdido", "Pais e Filhos"], correct: 0 } ] },
             "musica_br": { name: "M√∫sicas Brasileiras", questions: [ { question: "Qual o g√™nero musical de Luiz Gonzaga, o 'Rei do Bai√£o'?", answers: ["Samba", "Forr√≥", "Sertanejo", "Bossa Nova"], correct: 1 }, { question: "Qual dupla sertaneja √© conhecida como 'os filhos de Francisco'?", answers: ["Chit√£ozinho & Xoror√≥", "Leandro & Leonardo", "Zez√© Di Camargo & Luciano", "Bruno & Marrone"], correct: 2 }, { question: "Qual banda de rock brasileira lan√ßou o √°lbum 'Cabe√ßa Dinossauro'?", answers: ["Legi√£o Urbana", "Tit√£s", "Paralamas do Sucesso", "Bar√£o Vermelho"], correct: 1 }, { question: "Qual o nome da cantora que ficou conhecida como 'Rainha do Rock Brasileiro'?", answers: ["Pitty", "Paula Toller", "C√°ssia Eller", "Rita Lee"], correct: 3 }, { question: "Qual o nome da cantora baiana que √© uma das maiores estrelas do Ax√© Music?", answers: ["Daniela Mercury", "Claudia Leitte", "Ivete Sangalo", "Margareth Menezes"], correct: 2 }, { question: "Qual o nome do grupo de pagode dos anos 90 que tinha Alexandre Pires como vocalista?", answers: ["Ra√ßa Negra", "S√≥ Pra Contrariar", "Exaltasamba", "Art Popular"], correct: 1 }, { question: "Qual o nome do famoso sambista autor de 'N√£o Deixe o Samba Morrer'?", answers: ["Cartola", "Paulinho da Viola", "Martinho da Vila", "Alcione"], correct: 3 }, { question: "Qual o nome da cantora que ficou famosa com a m√∫sica 'Show das Poderosas'?", answers: ["Ludmilla", "Iza", "Pabllo Vittar", "Anitta"], correct: 3 }, { question: "Qual o nome do rapper brasileiro que √© membro do grupo Racionais MC's?", answers: ["Criolo", "Emicida", "Mano Brown", "Projota"], correct: 2 }, { question: "Qual o nome do g√™nero musical que mistura maracatu, rock, hip hop e manguebeat?", answers: ["Ax√©", "Forr√≥ Eletr√≥nico", "Funk Carioca", "Manguebeat"], correct: 3 }, { question: "Qual o nome do cantor e compositor que √© considerado o 'Poeta da Vila'?", answers: ["Noel Rosa", "Cartola", "Nelson Cavaquinho", "Adoniran Barbosa"], correct: 0 }, { question: "Qual o nome da cantora que ficou conhecida pela m√∫sica 'Evid√™ncias'?", answers: ["Roberta Miranda", "Ana Paula Valad√£o", "Simone Mendes", "N√£o foi uma cantora, e sim a dupla Chit√£ozinho & Xoror√≥"], correct: 3 }, { question: "Qual o nome do famoso festival de m√∫sica que acontece no Rio de Janeiro?", answers: ["Lollapalooza", "Rock in Rio", "The Town", "Villa Mix"], correct: 1 }, { question: "Qual o nome da dupla de palha√ßos que fazia sucesso com m√∫sicas infantis nos anos 80?", answers: ["Patati Patat√°", "Atchim & Espirro", "Teleco & Teco", "Carequinha & Arrelia"], correct: 1 }, { question: "Qual o nome da cantora que √© considerada a 'Madrinha do Samba'?", answers: ["Dona Ivone Lara", "Clara Nunes", "Elza Soares", "Beth Carvalho"], correct: 3 }, { question: "Qual o nome do funkeiro que ficou famoso com a m√∫sica 'Rap da Felicidade'?", answers: ["MC Marcinho", "Cidinho & Doca", "MC Gorila", "MC Sap√£o"], correct: 1 }, { question: "Qual o nome do famoso compositor de 'Garota de Ipanema'?", answers: ["Tom Jobim e Vinicius de Moraes", "Roberto Carlos e Erasmo Carlos", "Lennon e McCartney", "Chico Buarque e Edu Lobo"], correct: 0 }, { question: "Qual o nome da banda de reggae liderada por H√©lio Bentes?", answers: ["Cidade Negra", "Natiruts", "Ponto de Equil√≠brio", "Chimarruts"], correct: 2 }, { question: "Qual o nome do cantor sertanejo que √© conhecido como 'O Embaixador'?", answers: ["Luan Santana", "Michel Tel√≥", "Gusttavo Lima", "Wesley Safad√£o"], correct: 2 }, { question: "Qual o nome da famosa cantora de 'Amor I Love You'?", answers: ["Adriana Calcanhotto", "Marisa Monte", "Vanessa da Mata", "Ana Carolina"], correct: 1 } ] },
             "cantores_br": { name: "Tudo sobre Cantores Brasileiros 1", questions: [ { question: "Qual cantor brasileiro era conhecido como 'Maluco Beleza'?", answers: ["Raul Seixas", "Tim Maia", "Belchior", "Chico Science"], correct: 0 }, { question: "Qual cantora √© filha de Elis Regina e C√©sar Camargo Mariano?", answers: ["Maria Rita", "Luiza Possi", "Sandy", "Wanessa Camargo"], correct: 0 }, { question: "Qual destes cantores nasceu em Minas Gerais?", answers: ["Caetano Veloso", "Gilberto Gil", "Milton Nascimento", "Djavan"], correct: 2 }, { question: "Qual o nome do cantor que liderou a banda Legi√£o Urbana?", answers: ["Dinho Ouro Preto", "Humberto Gessinger", "Renato Russo", "Cazuza"], correct: 2 }, { question: "Qual cantor e compositor √© famoso pela sua habilidade com o viol√£o e por m√∫sicas como 'Oceano'?", answers: ["Toquinho", "Djavan", "Jo√£o Bosco", "Ivan Lins"], correct: 1 }, { question: "Qual cantora ficou famosa no grupo '√â o Tchan!' antes de seguir carreira a solo?", answers: ["Carla Perez", "Scheila Carvalho", "Sheila Mello", "Nenhuma das anteriores"], correct: 3 }, { question: "Qual o nome do cantor que formava dupla com Cazuza no Bar√£o Vermelho?", answers: ["Frejat", "Dinho Ouro Preto", "Herbert Vianna", "Samuel Rosa"], correct: 0 }, { question: "Qual cantora popularizou a m√∫sica 'Fogo e Paix√£o'?", answers: ["Alcione", "Faf√° de Bel√©m", "Wando", "Gal Costa"], correct: 2 }, { question: "Qual cantor e compositor baiano √© um dos criadores da Tropic√°lia?", answers: ["Gilberto Gil", "Tom Z√©", "Jorge Mautner", "Todos os anteriores"], correct: 3 }, { question: "Qual o nome da cantora que √© irm√£ de Caetano Veloso?", answers: ["Gal Costa", "Maria Beth√¢nia", "Simone", "Zizi Possi"], correct: 1 }, { question: "Qual cantor √© famoso pela m√∫sica 'Descobridor dos Sete Mares'?", answers: ["Lulu Santos", "Tim Maia", "Jorge Ben Jor", "Ed Motta"], correct: 1 }, { question: "Qual cantora √© conhecida como 'A Marrom'?", answers: ["Elza Soares", "Clara Nunes", "Alcione", "Beth Carvalho"], correct: 2 }, { question: "Qual o nome do cantor que liderava a banda Skank?", answers: ["Dinho Ouro Preto", "Samuel Rosa", "Nando Reis", "Humberto Gessinger"], correct: 1 }, { question: "Qual cantor e compositor cearense √© autor de 'A Palo Seco'?", answers: ["Fagner", "Ednardo", "Belchior", "Amelinha"], correct: 2 }, { question: "Qual o nome do cantor que ficou famoso com a m√∫sica 'Ai Se Eu Te Pego'?", answers: ["Gusttavo Lima", "Luan Santana", "Michel Tel√≥", "Lucas Lucco"], correct: 2 }, { question: "Qual cantora √© conhecida pela sua voz rouca e por sucessos como 'Brasil'?", answers: ["C√°ssia Eller", "Gal Costa", "Z√©lia Duncan", "Sandra de S√°"], correct: 1 }, { question: "Qual cantor e compositor √© conhecido como o 'Rei'?", answers: ["Roberto Carlos", "F√°bio Jr.", "Amado Batista", "Reginaldo Rossi"], correct: 0 }, { question: "Qual o nome da cantora que √© filha de Zez√© Di Camargo?", answers: ["Sandy", "Wanessa Camargo", "Paula Fernandes", "Mar√≠lia Mendon√ßa"], correct: 1 }, { question: "Qual o nome do cantor que liderou a banda Charlie Brown Jr.?", answers: ["Chor√£o", "Champignon", "Thiago Castanho", "Marc√£o"], correct: 0 }, { question: "Qual o nome do cantor que √© famoso pela m√∫sica 'Evid√™ncias'?", answers: ["Chit√£ozinho & Xoror√≥", "Leandro & Leonardo", "Zez√© Di Camargo & Luciano", "Daniel"], correct: 0 } ] },
             "musica_int": { name: "M√∫sicas Internacionais", questions: [ { question: "Qual banda brit√¢nica lan√ßou o √°lbum 'The Dark Side of the Moon'?", answers: ["The Beatles", "Led Zeppelin", "Pink Floyd", "The Rolling Stones"], correct: 2 }, { question: "Quem √© o 'Rei do Pop'?", answers: ["Elvis Presley", "Michael Jackson", "Prince", "James Brown"], correct: 1 }, { question: "Qual o nome da cantora de 'I Will Always Love You'?", answers: ["Mariah Carey", "Whitney Houston", "Celine Dion", "Aretha Franklin"], correct: 1 }, { question: "Qual banda lan√ßou a m√∫sica 'Bohemian Rhapsody'?", answers: ["U2", "Queen", "The Eagles", "ABBA"], correct: 1 }, { question: "De que pa√≠s √© a banda U2?", answers: ["Inglaterra", "Esc√≥cia", "Irlanda", "Pa√≠s de Gales"], correct: 2 }, { question: "Qual o nome do rapper de 'Lose Yourself'?", answers: ["Jay-Z", "Dr. Dre", "Snoop Dogg", "Eminem"], correct: 3 }, { question: "Qual o nome da banda de Kurt Cobain?", answers: ["Soundgarden", "Pearl Jam", "Nirvana", "Alice in Chains"], correct: 2 }, { question: "Qual o nome da cantora de 'Like a Virgin'?", answers: ["Cyndi Lauper", "Madonna", "Janet Jackson", "Cher"], correct: 1 }, { question: "Qual o nome da banda sueca que ficou famosa com 'Dancing Queen'?", answers: ["Roxette", "Ace of Base", "ABBA", "The Cardigans"], correct: 2 }, { question: "Qual o nome do cantor de 'Shape of You'?", answers: ["Justin Bieber", "Ed Sheeran", "Shawn Mendes", "Bruno Mars"], correct: 1 }, { question: "Qual o nome da banda de 'Stairway to Heaven'?", answers: ["The Who", "Led Zeppelin", "Deep Purple", "Black Sabbath"], correct: 1 }, { question: "Qual o nome da cantora de 'Bad Guy'?", answers: ["Lana Del Rey", "Lorde", "Halsey", "Billie Eilish"], correct: 3 }, { question: "Qual o nome da banda de 'Hotel California'?", answers: ["The Doors", "The Eagles", "Fleetwood Mac", "Creedence Clearwater Revival"], correct: 1 }, { question: "Qual o nome do cantor de 'Uptown Funk'?", answers: ["Pharrell Williams", "Justin Timberlake", "Bruno Mars", "The Weeknd"], correct: 2 }, { question: "Qual o nome da banda de 'Wonderwall'?", answers: ["Blur", "Oasis", "Pulp", "The Verve"], correct: 1 }, { question: "Qual o nome da cantora de 'Single Ladies (Put a Ring on It)'?", answers: ["Rihanna", "Beyonc√©", "Alicia Keys", "Mariah Carey"], correct: 1 }, { question: "Qual o nome do cantor de 'Hallelujah'?", answers: ["Bob Dylan", "Leonard Cohen", "Jeff Buckley", "Neil Young"], correct: 1 }, { question: "Qual o nome da banda de 'Smells Like Teen Spirit'?", answers: ["Nirvana", "Pearl Jam", "Soundgarden", "Foo Fighters"], correct: 0 }, { question: "Qual o nome da cantora de 'Rolling in the Deep'?", answers: ["Duffy", "Amy Winehouse", "Adele", "Florence + The Machine"], correct: 2 }, { question: "Qual o nome do cantor de 'Billie Jean'?", answers: ["Prince", "Stevie Wonder", "Michael Jackson", "Marvin Gaye"], correct: 2 } ] },
             "cantores_int": { name: "Tudo sobre Cantores Internacionais 1", questions: [ { question: "Qual o pa√≠s de origem da cantora Bj√∂rk?", answers: ["Noruega", "Su√©cia", "Finl√¢ndia", "Isl√¢ndia"], correct: 3 }, { question: "Qual cantor era o vocalista da banda The Police?", answers: ["Bono", "Sting", "Phil Collins", "Peter Gabriel"], correct: 1 }, { question: "Qual destes cantores fazia parte dos Beatles?", answers: ["Elton John", "David Bowie", "Paul McCartney", "Freddie Mercury"], correct: 2 }, { question: "Qual o nome da cantora que ficou conhecida como a 'Rainha da Soul'?", answers: ["Diana Ross", "Aretha Franklin", "Tina Turner", "Etta James"], correct: 1 }, { question: "De que pa√≠s era o cantor Bob Marley?", answers: ["Trindade e Tobago", "Barbados", "Haiti", "Jamaica"], correct: 3 }, { question: "Qual o nome do vocalista da banda Rolling Stones?", answers: ["Robert Plant", "Roger Daltrey", "Mick Jagger", "Jim Morrison"], correct: 2 }, { question: "Qual o nome do famoso pianista e cantor de 'Rocket Man'?", answers: ["Elton John", "Billy Joel", "Stevie Wonder", "Ray Charles"], correct: 0 }, { question: "Qual cantora √© conhecida como 'A Voz'?", answers: ["Mariah Carey", "Whitney Houston", "Celine Dion", "Christina Aguilera"], correct: 1 }, { question: "Qual destes cantores √© de nacionalidade canadiana?", answers: ["Ed Sheeran", "Justin Bieber", "Harry Styles", "Shawn Mendes"], correct: 1 }, { question: "Qual o nome do cantor que liderou a banda Queen?", answers: ["David Bowie", "Freddie Mercury", "Elton John", "George Michael"], correct: 1 }, { question: "Qual o nome do famoso cantor de 'My Way'?", answers: ["Elvis Presley", "Frank Sinatra", "Dean Martin", "Tony Bennett"], correct: 1 }, { question: "Qual o nome da cantora de 'Ironic'?", answers: ["Sheryl Crow", "Alanis Morissette", "Gwen Stefani", "Fiona Apple"], correct: 1 }, { question: "Qual o nome do famoso cantor de blues conhecido pela sua guitarra 'Lucille'?", answers: ["B.B. King", "Muddy Waters", "John Lee Hooker", "Howlin' Wolf"], correct: 0 }, { question: "Qual o nome da cantora que √© considerada a 'Madrinha do Punk'?", answers: ["Joan Jett", "Debbie Harry", "Patti Smith", "Siouxsie Sioux"], correct: 2 }, { question: "Qual o nome do famoso tenor italiano que popularizou a √≥pera?", answers: ["Andrea Bocelli", "Pl√°cido Domingo", "Jos√© Carreras", "Luciano Pavarotti"], correct: 3 }, { question: "Qual o nome da cantora de 'Wuthering Heights'?", answers: ["Kate Bush", "Tori Amos", "Bj√∂rk", "PJ Harvey"], correct: 0 }, { question: "Qual o nome do famoso rapper que foi assassinado em 1996?", answers: ["The Notorious B.I.G.", "Tupac Shakur", "Eazy-E", "Big L"], correct: 1 }, { question: "Qual o nome do famoso cantor de 'What's Going On'?", answers: ["Marvin Gaye", "Stevie Wonder", "Al Green", "Bill Withers"], correct: 0 }, { question: "Qual o nome da famosa cantora de 'La Vie en Rose'?", answers: ["Edith Piaf", "Brigitte Bardot", "Fran√ßoise Hardy", "Juliette Gr√©co"], correct: 0 }, { question: "Qual o nome do famoso cantor de 'Imagine'?", answers: ["Paul McCartney", "George Harrison", "Ringo Starr", "John Lennon"], correct: 3 } ] },
        };

        const lobbyScreen = document.getElementById('lobby-screen');
        const waitingRoomScreen = document.getElementById('waiting-room-screen');
        const gameScreen = document.getElementById('game-screen');
        const endScreen = document.getElementById('end-screen');
        const screens = [lobbyScreen, waitingRoomScreen, gameScreen, endScreen];

        function showScreen(screenToShow) {
            screens.forEach(screen => screen.classList.add('hidden'));
            screenToShow.classList.remove('hidden');
        }

        async function setupAuth() {
            onAuthStateChanged(auth, (user) => {
                if (user) {
                    currentUser = user;
                    document.getElementById('user-id-display').textContent = user.uid.substring(0, 8);
                } else {
                    signInAnonymously(auth).catch(error => console.error("Anonymous sign-in failed", error));
                }
            });
             if (auth.currentUser) {
                currentUser = auth.currentUser;
             } else {
                await signInAnonymously(auth);
            }
        }
        
        function getValidPlayerName() {
            const playerName = document.getElementById('player-name').value.trim();
            if (!playerName) {
                document.getElementById('error-message').textContent = 'Por favor, digite seu nome!';
                return null;
            }
            if (playerName.length > 15) {
                document.getElementById('error-message').textContent = 'O nome deve ter no m√°ximo 15 caracteres.';
                return null;
            }
            document.getElementById('error-message').textContent = '';
            return playerName;
        }

        document.getElementById('create-game-btn').addEventListener('click', async () => {
            if (!firebaseConfig.apiKey) {
                document.getElementById('error-message').textContent = 'A configura√ß√£o do Firebase est√° em falta. Edite o ficheiro HTML.';
                return;
            }
            const playerName = getValidPlayerName();
            if (!playerName || !currentUser) return;
            
            const gameCode = Math.random().toString(36).substring(2, 7).toUpperCase();
            currentGameId = gameCode;
            
            const gameRef = doc(db, "artifacts", appId, "public/data/quiz_games", gameCode);
            const playerRef = doc(db, "artifacts", appId, "public/data/quiz_games", gameCode, "players", currentUser.uid);

            const batch = writeBatch(db);
            batch.set(gameRef, {
                hostId: currentUser.uid,
                gameState: 'lobby',
                currentQuestionIndex: -1,
                quizId: null,
                createdAt: serverTimestamp()
            });
            batch.set(playerRef, {
                name: playerName,
                score: 0,
                hasAnswered: false,
                answeredQuestionIndex: null,
                selectedAnswer: null
            });
            await batch.commit();

            await attachToGame(gameCode);
        });

        document.getElementById('join-game-btn').addEventListener('click', async () => {
            if (!firebaseConfig.apiKey) {
                document.getElementById('error-message').textContent = 'A configura√ß√£o do Firebase est√° em falta. Fale com o criador da sala.';
                return;
            }
            const playerName = getValidPlayerName();
            const gameCode = document.getElementById('game-code-input').value.trim().toUpperCase();

            if (!playerName || !gameCode || !currentUser) {
                 document.getElementById('error-message').textContent = 'Nome e c√≥digo da sala s√£o obrigat√≥rios.';
                 return;
            }
            const gameRef = doc(db, "artifacts", appId, "public/data/quiz_games", gameCode);
            const gameDoc = await getDoc(gameRef);

            if (gameDoc.exists() && gameDoc.data().gameState === 'lobby') {
                currentGameId = gameCode;
                const playerRef = doc(db, "artifacts", appId, "public/data/quiz_games", gameCode, "players", currentUser.uid);
                await setDoc(playerRef, { 
                    name: playerName, 
                    score: 0, 
                    hasAnswered: false,
                    answeredQuestionIndex: null,
                    selectedAnswer: null
                });
                await attachToGame(gameCode);
            } else {
                document.getElementById('error-message').textContent = 'Sala n√£o encontrada ou o jogo j√° come√ßou.';
            }
        });

        async function attachToGame(gameCode) {
            const gameRef = doc(db, "artifacts", appId, "public/data/quiz_games", gameCode);
            const playersRef = collection(db, "artifacts", appId, "public/data/quiz_games", gameCode, "players");
            
            unsubscribeGame = onSnapshot(gameRef, (doc) => {
                currentGameData = doc.data();
                if (!currentGameData) { resetGame(); return; }
                updateGameStateUI(currentGameData);
            }, error => {
                console.error("Erro no listener do jogo: ", error);
                document.getElementById('error-message').textContent = 'Erro ao ligar √† sala. Verifique a sua liga√ß√£o.';
            });
            
            unsubscribePlayers = onSnapshot(playersRef, (snapshot) => {
                currentPlayers = snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));
                updatePlayersUI(currentPlayers);
                if(currentGameData && currentGameData.gameState === 'in-progress') {
                    checkIfAllAnswered();
                }
            }, error => {
                console.error("Erro no listener dos jogadores: ", error);
            });
        }
        
        function updateGameStateUI(gameData) {
            switch(gameData.gameState) {
                case 'lobby':
                    showScreen(waitingRoomScreen);
                    document.getElementById('game-code-text').textContent = currentGameId;
                    if (currentUser.uid === gameData.hostId) {
                        document.getElementById('host-controls').classList.remove('hidden');
                        document.getElementById('waiting-for-host').classList.add('hidden');
                        renderQuizOptions();
                    } else {
                        document.getElementById('host-controls').classList.add('hidden');
                        document.getElementById('waiting-for-host').classList.remove('hidden');
                    }
                    break;
                case 'in-progress':
                    showScreen(gameScreen);
                    renderQuestion(gameData);
                    break;
                case 'finished':
                    showScreen(endScreen);
                    break;
            }
        }
        
        function checkIfAllAnswered() {
            const nextButtonControls = document.getElementById('next-question-controls');
            if (!currentGameData || currentPlayers.length === 0 || currentGameData.gameState !== 'in-progress') {
                nextButtonControls.classList.add('hidden');
                return;
            }

            let allAnswered = false;
            if (currentGameData.gameMode === 'combat') {
                allAnswered = currentGameData.questionLocked || currentPlayers.every(p => p.hasAnswered && p.answeredQuestionIndex === currentGameData.currentQuestionIndex);
            } else {
                allAnswered = currentPlayers.every(p => p.hasAnswered && p.answeredQuestionIndex === currentGameData.currentQuestionIndex);
            }
            
            const isHost = currentUser && currentUser.uid === currentGameData.hostId;

            if (allAnswered && isHost) {
                nextButtonControls.classList.remove('hidden');
            } else {
                nextButtonControls.classList.add('hidden');
            }
        }

        function renderQuizOptions() {
            const container = document.getElementById('quiz-options-container');
            container.innerHTML = '';
            Object.keys(quizzes).forEach((quizId, index) => {
                const quiz = quizzes[quizId];
                const button = document.createElement('button');
                button.className = 'btn btn-secondary quiz-option';
                button.innerHTML = `<span class="mr-3">${index + 1}.</span> ${quiz.name}`;
                button.dataset.quizId = quizId;
                button.onclick = () => {
                    selectedQuizId = quizId;
                    document.querySelectorAll('.quiz-option').forEach(btn => btn.classList.remove('selected'));
                    button.classList.add('selected');
                    document.getElementById('start-game-btn').disabled = false;
                    document.getElementById('start-combat-btn').disabled = false;
                };
                container.appendChild(button);
            });
        }

        function updatePlayersUI(players) {
            const playerList = document.getElementById('player-list');
            playerList.innerHTML = '';
            players.forEach(player => {
                const li = document.createElement('li');
                li.className = 'bg-indigo-100 text-indigo-800 font-semibold p-3 rounded-lg flex items-center justify-between';
                const answeredCheck = (player.hasAnswered && currentGameData && player.answeredQuestionIndex === currentGameData.currentQuestionIndex) ? '‚úîÔ∏è' : '';
                li.innerHTML = `${player.name} ${answeredCheck}`;
                playerList.appendChild(li);
            });

            const sortedPlayers = [...players].sort((a, b) => b.score - a.score);
            const scoreboardList = document.getElementById('scoreboard-list');
            scoreboardList.innerHTML = '';
            sortedPlayers.forEach(player => {
                const li = document.createElement('li');
                li.className = 'flex justify-between items-center p-2 bg-gray-50 rounded-md';
                li.innerHTML = `<span class="font-medium text-gray-700">${player.name}</span> <span class="font-bold text-indigo-600">${player.score} pontos</span>`;
                scoreboardList.appendChild(li);
            });
            const inGameScoreboard = document.getElementById('in-game-scoreboard');
            if(inGameScoreboard){
                inGameScoreboard.innerHTML = '';
                 sortedPlayers.forEach((player, index) => {
                    const medal = ['ü•á', 'ü•à', 'ü•â'][index] || '';
                    const li = document.createElement('li');
                    li.className = 'flex justify-between items-center p-2 bg-gray-100 rounded-md';
                    li.innerHTML = `<span class="font-medium text-gray-700">${medal} ${player.name}</span> <span class="font-bold text-indigo-600">${player.score} pontos</span>`;
                    inGameScoreboard.appendChild(li);
                });
            }
             
            const finalScoreboardList = document.getElementById('final-scoreboard-list');
            finalScoreboardList.innerHTML = '';
            sortedPlayers.forEach((player, index) => {
                const medal = ['ü•á', 'ü•à', 'ü•â'][index] || '';
                const li = document.createElement('li');
                li.className = `text-lg p-3 rounded-lg flex justify-between items-center ${index === 0 ? 'bg-yellow-100' : 'bg-gray-100'}`;
                li.innerHTML = `<span class="font-semibold">${medal} ${player.name}</span> <span class="font-bold text-gray-800">${player.score} pontos</span>`;
                finalScoreboardList.appendChild(li);
            });

            if (sortedPlayers.length > 0) {
                 document.getElementById('winner-name').textContent = sortedPlayers[0].name;
            }
        }
        
        function renderQuestion(gameData) {
            const isMarathon = gameData.gameMode === 'marathon';
            const questions = isMarathon ? gameData.questions : quizzes[gameData.quizId].questions;
            const quizName = isMarathon ? `Meia Maratona - ${questions[gameData.currentQuestionIndex].category}` : quizzes[gameData.quizId]?.name || 'Quiz';
            
            if (!questions) return;
            const questionIndex = gameData.currentQuestionIndex;
            if (questionIndex < 0 || questionIndex >= questions.length) return;
            
            const questionObj = questions[questionIndex];
            
            document.getElementById('quiz-name-display').textContent = quizName;
            document.getElementById('question-number').textContent = questionIndex + 1;
            document.getElementById('total-questions').textContent = isMarathon ? 'üèÅ' : questions.length;
            
            const questionContainer = document.getElementById('question-container');
            questionContainer.innerHTML = ''; 

            if (questionObj.imageUrl) {
                const image = document.createElement('img');
                image.src = questionObj.imageUrl;
                image.alt = 'Imagem da pergunta';
                image.className = 'question-image';
                image.onerror = () => { image.src = `https://placehold.co/160x107/eee/ccc?text=Imagem`; image.alt = 'Erro ao carregar imagem'; };
                questionContainer.appendChild(image);
            }

            const questionText = document.createElement('p');
            questionText.className = 'text-2xl font-semibold text-gray-800 text-center';
            questionText.textContent = questionObj.question;
            questionContainer.appendChild(questionText);
            
            const answersContainer = document.getElementById('answers-container');
            answersContainer.innerHTML = '';
            document.getElementById('feedback-container').innerHTML = '';
            
            const myPlayerState = currentPlayers.find(p => p.id === currentUser.uid);
            
            questionObj.answers.forEach((answer, index) => {
                const button = document.createElement('button');
                button.className = 'btn btn-secondary';
                const answerText = document.createElement('span');
                answerText.textContent = answer;
                button.appendChild(answerText);
                button.dataset.index = index;
                button.onclick = handleAnswerSelection;
                
                if (gameData.gameMode === 'combat') {
                    if (gameData.questionLocked || (myPlayerState && myPlayerState.hasAnswered && myPlayerState.answeredQuestionIndex === questionIndex)) {
                        button.disabled = true;
                    }
                }
                answersContainer.appendChild(button);
            });
        }

        async function handleAnswerSelection(event) {
            const button = event.currentTarget;
            const selectedIndex = parseInt(button.dataset.index);
            const playerRef = doc(db, "artifacts", appId, "public/data/quiz_games", currentGameId, "players", currentUser.uid);
            
            await runTransaction(db, async (transaction) => {
                const gameRef = doc(db, "artifacts", appId, "public/data/quiz_games", currentGameId);
                const gameDoc = await transaction.get(gameRef);
                const playerDoc = await transaction.get(playerRef);

                if (!gameDoc.exists() || !playerDoc.exists()) throw "Jogo ou jogador n√£o encontrado!";
                
                const gameData = gameDoc.data();
                const playerData = playerDoc.data();

                if (playerData.hasAnswered && playerData.answeredQuestionIndex === gameData.currentQuestionIndex) return;
                if (gameData.gameMode === 'combat' && gameData.questionLocked) return;

                const questions = gameData.gameMode === 'marathon' ? gameData.questions : quizzes[gameData.quizId].questions;
                const question = questions[gameData.currentQuestionIndex];
                
                const isCorrect = selectedIndex === question.correct;
                
                const updates = {
                    hasAnswered: true,
                    selectedAnswer: selectedIndex,
                    answeredQuestionIndex: gameData.currentQuestionIndex
                };
                
                if (isCorrect) {
                    updates.score = (playerData.score || 0) + 10;
                    if (gameData.gameMode === 'combat') {
                        transaction.update(gameRef, { questionLocked: true });
                    }
                }
                
                transaction.update(playerRef, updates);
            }).catch(error => {
                console.error("Transa√ß√£o falhou: ", error);
            });
        }


        function showVoteCounts() {
            let shouldShow = false;
            if (currentGameData.gameMode === 'combat') {
                shouldShow = currentGameData.questionLocked || currentPlayers.every(p => p.hasAnswered && p.answeredQuestionIndex === currentGameData.currentQuestionIndex);
            } else {
                shouldShow = currentPlayers.every(p => p.hasAnswered && p.answeredQuestionIndex === currentGameData.currentQuestionIndex);
            }
            if (!shouldShow) return;

            const answerButtons = document.querySelectorAll('#answers-container button');
            if(answerButtons.length === 0) return; 

            const questions = currentGameData.gameMode === 'marathon' ? currentGameData.questions : quizzes[currentGameData.quizId].questions;
            const question = questions[currentGameData.currentQuestionIndex];
            
            answerButtons.forEach((button, index) => {
                const isCorrect = index === question.correct;
                button.disabled = true;

                button.classList.remove('bg-green-500', 'bg-red-500', 'text-white', 'opacity-60', 'ring-4', 'ring-indigo-500');
                button.classList.add('btn-secondary');

                if(isCorrect){
                    button.classList.add('bg-green-500', 'text-white');
                }

                currentPlayers.forEach(p => {
                    if(p.answeredQuestionIndex === currentGameData.currentQuestionIndex && p.selectedAnswer === index && !isCorrect){
                         button.classList.add('bg-red-500', 'text-white');
                    }
                });
            });

            const feedbackEl = document.getElementById('feedback-container');
            const myPlayer = currentPlayers.find(p => p.id === currentUser.uid);
            if (myPlayer && myPlayer.answeredQuestionIndex === currentGameData.currentQuestionIndex) {
                 if (myPlayer.selectedAnswer === question.correct) {
                     feedbackEl.textContent = 'Resposta Certa! +10 pontos';
                     feedbackEl.className = 'mt-6 text-center text-xl font-bold text-green-600';
                } else {
                     feedbackEl.textContent = 'Resposta Errada!';
                     feedbackEl.className = 'mt-6 text-center text-xl font-bold text-red-600';
                }
            } else if (currentGameData.gameMode === 'combat' && currentGameData.questionLocked) {
                const winnerPlayer = currentPlayers.find(p => p.selectedAnswer === question.correct && p.answeredQuestionIndex === currentGameData.currentQuestionIndex);
                if(winnerPlayer) {
                    feedbackEl.textContent = `${winnerPlayer.name} foi mais r√°pido e acertou!`;
                    feedbackEl.className = 'mt-6 text-center text-xl font-bold text-gray-600';
                }
            }
        }

        async function startGame(mode) {
             if (!selectedQuizId && (mode === 'classic' || mode === 'combat')) return;
            const gameRef = doc(db, "artifacts", appId, "public/data/quiz_games", currentGameId);
            
            let gameUpdates = {
                gameState: 'in-progress',
                currentQuestionIndex: 0,
                gameMode: mode,
                questionLocked: false
            };

            if (mode === 'marathon') {
                let allQuestions = [];
                for (const quizId in quizzes) {
                    const categorizedQuestions = quizzes[quizId].questions.map(q => ({...q, category: quizzes[quizId].name}));
                    allQuestions.push(...categorizedQuestions);
                }
                for (let i = allQuestions.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [allQuestions[i], allQuestions[j]] = [allQuestions[j], allQuestions[i]];
                }
                gameUpdates.quizId = 'marathon';
                gameUpdates.questions = allQuestions;
            } else {
                 gameUpdates.quizId = selectedQuizId;
            }
             
            const batch = writeBatch(db);
            batch.update(gameRef, gameUpdates);

            const playersRef = collection(db, "artifacts", appId, "public/data/quiz_games", currentGameId, "players");
            const playersSnapshot = await getDocs(playersRef);
            playersSnapshot.forEach(playerDoc => {
                batch.update(playerDoc.ref, { score: 0 });
            });

            await batch.commit();
        }

        document.getElementById('start-game-btn').addEventListener('click', () => startGame('classic'));
        document.getElementById('start-combat-btn').addEventListener('click', () => startGame('combat'));
        document.getElementById('start-marathon-btn').addEventListener('click', () => startGame('marathon'));


        document.getElementById('next-question-btn').addEventListener('click', async () => {
            const gameRef = doc(db, "artifacts", appId, "public/data/quiz_games", currentGameId);
            const gameDoc = await getDoc(gameRef);
            const gameData = gameDoc.data();
            
            if(gameData.gameMode === 'marathon') {
                const winner = currentPlayers.find(p => p.score >= 210);
                if (winner) {
                     await updateDoc(gameRef, { gameState: 'finished' });
                     return;
                }
            }
            
            const nextIndex = gameData.currentQuestionIndex + 1;
            const playersRef = collection(db, "artifacts", appId, "public/data/quiz_games", currentGameId, "players");
            const batch = writeBatch(db);
            const playersSnapshot = await getDocs(playersRef);
            playersSnapshot.forEach(playerDoc => {
                batch.update(playerDoc.ref, { hasAnswered: false, selectedAnswer: null, answeredQuestionIndex: null });
            });

            const currentQuizQuestions = gameData.gameMode === 'marathon' ? gameData.questions : quizzes[gameData.quizId].questions;
            batch.update(gameRef, { questionLocked: false }); 

            if (nextIndex < currentQuizQuestions.length) {
                batch.update(gameRef, { currentQuestionIndex: nextIndex });
            } else {
                batch.update(gameRef, { gameState: 'finished' });
            }
            await batch.commit();
        });
        
async function leaveGame() {
    if (!currentGameId || !currentUser || currentGameData.hostId !== currentUser.uid) {
        resetGame();
        return;
    }

    const gameRef = doc(db, "artifacts", appId, "public/data/quiz_games", currentGameId);
    await updateDoc(gameRef, {
        gameState: 'lobby',
        currentQuestionIndex: -1,
        quizId: null,
        questions: null,
        gameMode: null,
        questionLocked: null
    });
}

        document.querySelectorAll('.go-to-menu-btn').forEach(btn => {
            btn.addEventListener('click', leaveGame);
        });

        document.getElementById('play-again-btn').addEventListener('click', async () => {
            if (!currentGameId || !currentUser) return;
            const gameRef = doc(db, "artifacts", appId, "public/data/quiz_games", currentGameId);
            const gameDoc = await getDoc(gameRef);
            if (gameDoc.data().hostId !== currentUser.uid) {
                resetGame();
                return;
            }
            
            const playersRef = collection(db, "artifacts", appId, "public/data/quiz_games", currentGameId, "players");
            const playersSnapshot = await getDocs(playersRef);
            const batch = writeBatch(db);

            batch.update(gameRef, { gameState: 'lobby', currentQuestionIndex: -1, quizId: null, questions: null, gameMode: null, questionLocked: null });
            playersSnapshot.forEach(playerDoc => {
                batch.update(playerDoc.ref, { score: 0, hasAnswered: false, selectedAnswer: null, answeredQuestionIndex: null });
            });
            await batch.commit();
        });
        
        function resetGame() {
            if (unsubscribeGame) unsubscribeGame();
            if (unsubscribePlayers) unsubscribePlayers();
            unsubscribeGame = null;
            unsubscribePlayers = null;
            currentGameId = null;
            selectedQuizId = null;
            currentPlayers = [];
            currentGameData = null;

            document.getElementById('game-code-input').value = '';
            document.getElementById('error-message').textContent = '';
            document.getElementById('player-name').value = '';

            showScreen(lobbyScreen);
        }

        document.getElementById('game-code-display').addEventListener('click', () => {
            const code = document.getElementById('game-code-text').textContent;
            navigator.clipboard.writeText(code).then(() => {
                const display = document.getElementById('game-code-display');
                const originalContent = display.innerHTML;
                display.innerHTML = 'Copiado!';
                setTimeout(() => { display.innerHTML = originalContent; }, 1500);
            });
        });

        const scoreboardModal = document.getElementById('scoreboard-modal');
        document.getElementById('scoreboard-toggle').addEventListener('click', () => scoreboardModal.classList.remove('hidden'));
        document.getElementById('close-scoreboard-btn').addEventListener('click', () => scoreboardModal.classList.add('hidden'));
        scoreboardModal.addEventListener('click', (e) => {
            if (e.target === scoreboardModal) {
                 scoreboardModal.classList.add('hidden');
            }
        });

        window.onload = () => {
            showScreen(lobbyScreen);
            setupAuth();
        };

    </script>
</body>
</html>
